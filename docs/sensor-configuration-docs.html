<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sensor Configuration Documentation</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
            color: #333;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        h1, h2, h3 {
            color: #2c3e50;
        }
        .code {
            background-color: #f4f4f4;
            padding: 10px;
            border-radius: 5px;
            font-family: monospace;
        }
        .note {
            background-color: #fff3cd;
            padding: 10px;
            border-radius: 5px;
            margin: 10px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Sensor Configuration Documentation</h1>
        
        <h2>Overview</h2>
        <p>
            The Sensor Configuration module provides administrators with the ability to manage sensor settings
            and perform firmware updates. This documentation covers the implementation details, usage, and
            technical specifications of the feature.
        </p>

        <h2>Architecture</h2>
        <h3>Components</h3>
        <ul>
            <li><strong>SensorConfigurationPage</strong>: UI for managing sensor configurations</li>
            <li><strong>ISensorConfigurationService</strong>: Interface defining sensor operations</li>
            <li><strong>MockSensorConfigurationService</strong>: Implementation for testing</li>
            <li><strong>Sensor</strong>: Model representing a sensor</li>
            <li><strong>SensorConfiguration</strong>: Model for sensor settings</li>
        </ul>

        <h2>Usage</h2>
        <h3>Viewing Sensor Configuration</h3>
        <ol>
            <li>Navigate to the Sensor Configuration page</li>
            <li>Select a sensor from the dropdown</li>
            <li>View current configuration and firmware version</li>
        </ol>

        <h3>Updating Configuration</h3>
        <ol>
            <li>Select a sensor</li>
            <li>Enter new polling interval and threshold values</li>
            <li>Click "Update Configuration"</li>
        </ol>

        <h3>Updating Firmware</h3>
        <ol>
            <li>Select a sensor</li>
            <li>Click "Check for Updates"</li>
            <li>If updates are available, click "Update Firmware"</li>
            <li>Monitor progress during update</li>
        </ol>

        <h2>Technical Details</h2>
        <h3>Models</h3>
        <div class="code">
            public class Sensor
            {
                public string Id { get; set; }
                public string Name { get; set; }
                public string Type { get; set; }
                public string Location { get; set; }
                public bool IsActive { get; set; }
                public string FirmwareVersion { get; set; }
            }
        </div>

        <h3>Service Interface</h3>
        <div class="code">
            public interface ISensorConfigurationService
            {
                Task<IEnumerable<Sensor>> GetAllSensorsAsync();
                Task<SensorConfiguration> GetSensorConfigurationAsync(string sensorId);
                Task UpdateSensorConfigurationAsync(string sensorId, SensorConfiguration configuration);
                Task<bool> CheckFirmwareUpdateAsync(string sensorId);
                Task UpdateFirmwareAsync(string sensorId, Action<double> progressCallback);
            }
        </div>

        <h2>Error Handling</h2>
        <p>
            The implementation includes comprehensive error handling for:
        </p>
        <ul>
            <li>Network connectivity issues</li>
            <li>Invalid input values</li>
            <li>Update failures</li>
            <li>Sensor unavailability</li>
        </ul>

        <h2>Testing</h2>
        <p>
            Unit tests cover all public methods and include:
        </p>
        <ul>
            <li>Configuration retrieval</li>
            <li>Configuration updates</li>
            <li>Firmware update checks</li>
            <li>Firmware update process</li>
            <li>Error conditions</li>
        </ul>

        <div class="note">
            <strong>Note:</strong> This documentation is version-controlled and should be updated
            with any changes to the implementation.
        </div>
    </div>
</body>
</html> 